{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{2916:function(t,r,n){},2964:function(t,r,n){\"use strict\";n.r(r);var e=n(1),a=n.n(e),o=n(0),i=n.n(o),c=function(t,r){var n,e;if(void 0===r){var a=!0,o=!1,i=void 0;try{for(var c,l=t[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;null!=u&&(void 0===n?u>=u&&(n=e=u):(n>u&&(n=u),e<u&&(e=u)))}}catch(t){o=!0,i=t}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}}else{var s=-1,f=!0,h=!1,p=void 0;try{for(var m,d=t[Symbol.iterator]();!(f=(m=d.next()).done);f=!0){var v=m.value;null!=(v=r(v,++s,t))&&(void 0===n?v>=v&&(n=e=v):(n>v&&(n=v),e<v&&(e=v)))}}catch(t){h=!0,p=t}finally{try{f||null==d.return||d.return()}finally{if(h)throw p}}}return[n,e]},l=Math.sqrt(50),u=Math.sqrt(10),s=Math.sqrt(2),f=function(t,r,n){var e,a,o,i,c=-1;if(n=+n,(t=+t)===(r=+r)&&n>0)return[t];if((e=r<t)&&(a=t,t=r,r=a),0===(i=h(t,r,n))||!isFinite(i))return[];if(i>0)for(t=Math.ceil(t/i),r=Math.floor(r/i),o=new Array(a=Math.ceil(r-t+1));++c<a;)o[c]=(t+c)*i;else for(t=Math.floor(t*i),r=Math.ceil(r*i),o=new Array(a=Math.ceil(t-r+1));++c<a;)o[c]=(t-c)/i;return e&&o.reverse(),o};function h(t,r,n){var e=(r-t)/Math.max(0,n),a=Math.floor(Math.log(e)/Math.LN10),o=e/Math.pow(10,a);return a>=0?(o>=l?10:o>=u?5:o>=s?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=l?10:o>=u?5:o>=s?2:1)}var p=function(t,r){return t<r?-1:t>r?1:t>=r?0:NaN};var m,d,v=(1===(m=p).length&&(d=m,m=function(t,r){return p(d(t),r)}),{left:function(t,r,n,e){for(null==n&&(n=0),null==e&&(e=t.length);n<e;){var a=n+e>>>1;m(t[a],r)<0?n=a+1:e=a}return n},right:function(t,r,n,e){for(null==n&&(n=0),null==e&&(e=t.length);n<e;){var a=n+e>>>1;m(t[a],r)>0?e=a:n=a+1}return n}}),y=v.right,g=n(231),M=function(t){return function(){return t}},b=function(t){return+t},w=[0,1];function N(t){return t}function O(t,r){return(r-=t=+t)?function(n){return(n-t)/r}:M(isNaN(r)?NaN:.5)}function k(t,r,n){var e=t[0],a=t[1],o=r[0],i=r[1];return a<e?(e=O(a,e),o=n(i,o)):(e=O(e,a),o=n(o,i)),function(t){return o(e(t))}}function S(t,r,n){var e=Math.min(t.length,r.length)-1,a=new Array(e),o=new Array(e),i=-1;for(t[e]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++i<e;)a[i]=O(t[i],t[i+1]),o[i]=n(r[i],r[i+1]);return function(r){var n=y(t,r,1,e)-1;return o[n](a[n](r))}}function j(){var t,r,n,e,a,o,i=w,c=w,l=g.a,u=N;function s(){var t,r,n,l=Math.min(i.length,c.length);return u!==N&&(t=i[0],r=i[l-1],t>r&&(n=t,t=r,r=n),u=function(n){return Math.max(t,Math.min(r,n))}),e=l>2?S:k,a=o=null,f}function f(r){return isNaN(r=+r)?n:(a||(a=e(i.map(t),c,l)))(t(u(r)))}return f.invert=function(n){return u(r((o||(o=e(c,i.map(t),g.c)))(n)))},f.domain=function(t){return arguments.length?(i=Array.from(t,b),s()):i.slice()},f.range=function(t){return arguments.length?(c=Array.from(t),s()):c.slice()},f.rangeRound=function(t){return c=Array.from(t),l=g.d,s()},f.clamp=function(t){return arguments.length?(u=!!t||N,s()):u!==N},f.interpolate=function(t){return arguments.length?(l=t,s()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,e){return t=n,r=e,s()}}function x(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t)}return this}var _=n(55),A=function(t,r,n,e){var a,o=function(t,r,n){var e=Math.abs(r-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),o=e/a;return o>=l?a*=10:o>=u?a*=5:o>=s&&(a*=2),r<t?-a:a}(t,r,n);switch((e=Object(_.d)(null==e?\",f\":e)).type){case\"s\":var i=Math.max(Math.abs(t),Math.abs(r));return null!=e.precision||isNaN(a=Object(_.f)(o,i))||(e.precision=a),Object(_.c)(e,i);case\"\":case\"e\":case\"g\":case\"p\":case\"r\":null!=e.precision||isNaN(a=Object(_.g)(o,Math.max(Math.abs(t),Math.abs(r))))||(e.precision=a-(\"e\"===e.type));break;case\"f\":case\"%\":null!=e.precision||isNaN(a=Object(_.e)(o))||(e.precision=a-2*(\"%\"===e.type))}return Object(_.a)(e)};function X(){var t=j()(N,N);return t.copy=function(){return r=t,X().domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown());var r},x.apply(t,arguments),function(t){var r=t.domain;return t.ticks=function(t){var n=r();return f(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var e=r();return A(e[0],e[e.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var e,a=r(),o=0,i=a.length-1,c=a[o],l=a[i];return l<c&&(e=c,c=l,l=e,e=o,o=i,i=e),(e=h(c,l,n))>0?e=h(c=Math.floor(c/e)*e,l=Math.ceil(l/e)*e,n):e<0&&(e=h(c=Math.ceil(c*e)/e,l=Math.floor(l*e)/e,n)),e>0?(a[o]=Math.floor(c/e)*e,a[i]=Math.ceil(l/e)*e,r(a)):e<0&&(a[o]=Math.ceil(c*e)/e,a[i]=Math.floor(l*e)/e,r(a)),t},t}(t)}function C(){return(C=Object.assign||function(t){for(var r,n=1;n<arguments.length;n++)for(var e in r=arguments[n])Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t}).apply(this,arguments)}var D=[\"#313695\",\"#4575b4\",\"#74add1\",\"#abd9e9\",\"#fee090\",\"#fdae61\",\"#f46d43\",\"#d73027\"],E={className:i.a.string,width:i.a.number,height:i.a.number,data:i.a.arrayOf(i.a.shape({y:i.a.number})).isRequired,bands:i.a.number,colors:i.a.arrayOf(i.a.string),colorScale:i.a.string,mode:i.a.string,offsetX:i.a.number,title:i.a.string,yDomain:i.a.arrayOf(i.a.number)},R={className:\"\",width:800,height:20,bands:D.length>>1,colors:D,colorScale:\"series\",mode:\"offset\",offsetX:0,title:\"\",yDomain:void 0},q=function(t){function r(){return t.apply(this,arguments)||this}!function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}(r,t);var n=r.prototype;return n.componentDidMount=function(){this.drawChart()},n.componentDidUpdate=function(){this.drawChart()},n.componentWillUnmount=function(){this.canvas=null},n.drawChart=function(){if(this.canvas){var t=this.props,r=t.data,n=t.yDomain,e=t.width,a=t.height,o=t.bands,i=t.colors,l=t.colorScale,u=t.offsetX,s=t.mode,f=\"change\"===l?r.map((function(t){return C({},t,{y:t.y-r[0].y})})):r,h=this.canvas.getContext(\"2d\");h.imageSmoothingEnabled=!1,h.clearRect(0,0,e,a),h.setTransform(1,0,0,1,0,0),h.translate(.5,.5);var p=e/f.length,m=Math.floor(Math.max(0,-u/p)),d=Math.floor(Math.min(f.length,m+e/p));if(m>f.length)return;for(var v,y,g=n||c(f,(function(t){return t.y})),M=g[0],b=g[1],w=X().domain([0,Math.max(-M,b)]).range([0,a]),N=!1,O=0;O<o;O+=1){h.fillStyle=i[o+O],y=(O+1-o)*a,w.range([o*a+y,y]);for(var k=m;k<d;k++)0>=(v=f[k].y)?N=!0:void 0!==v&&h.fillRect(u+k*p,w(v),p+1,w(0)-w(v))}if(N){\"offset\"===s&&(h.translate(0,a),h.scale(1,-1));for(var S=0;S<o;S++){h.fillStyle=i[o-S-1],y=(S+1-o)*a,w.range([o*a+y,y]);for(var j=m;j<d;j++)!(0<=(v=f[j].y))&&h.fillRect(u+j*p,w(-v),p+1,w(0)-w(-v))}}}},n.render=function(){var t=this,r=this.props,n=r.className,e=r.title,o=r.width,i=r.height;return a.a.createElement(\"div\",{className:\"horizon-row \"+n},a.a.createElement(\"span\",{className:\"title\"},e),a.a.createElement(\"canvas\",{width:o,height:i,ref:function(r){t.canvas=r}}))},r}(a.a.PureComponent);q.propTypes=E,q.defaultProps=R;var P=q;n(2916);var H={className:i.a.string,width:i.a.number,seriesHeight:i.a.number,data:i.a.arrayOf(i.a.shape({key:i.a.arrayOf(i.a.string),values:i.a.arrayOf(i.a.shape({y:i.a.number}))})).isRequired,bands:i.a.number,colors:i.a.arrayOf(i.a.string),colorScale:i.a.string,mode:i.a.string,offsetX:i.a.number},T={className:\"\",width:800,seriesHeight:20,bands:Math.floor(D.length/2),colors:D,colorScale:\"series\",mode:\"offset\",offsetX:0},z=function(t){function r(){return t.apply(this,arguments)||this}return function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}(r,t),r.prototype.render=function(){var t,r=this.props,n=r.className,e=r.width,o=r.data,i=r.seriesHeight,l=r.bands,u=r.colors,s=r.colorScale,f=r.mode,h=r.offsetX;if(\"overall\"===s){var p=o.reduce((function(t,r){return t.concat(r.values)}),[]);t=c(p,(function(t){return t.y}))}return a.a.createElement(\"div\",{className:\"superset-legacy-chart-horizon \"+n},o.map((function(r){return a.a.createElement(P,{key:r.key,width:e,height:i,title:r.key.join(\", \"),data:r.values,bands:l,colors:u,colorScale:s,mode:f,offsetX:h,yDomain:t})})))},r}(a.a.PureComponent);z.propTypes=H,z.defaultProps=T;r.default=z}}]);","extractedComments":[]}